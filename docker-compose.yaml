#services:
#  neo4j:
#    image: neo4j:5.26.2
#    container_name: gr_neo4j
#    ports:
#      - '7474:7474' # HTTP interface
#      - '7687:7687' # Bolt protocol
#    environment:
#      - NEO4J_AUTH=neo4j/morpheus4j # Replace with your desired username and password
#    volumes:
#      - neo4j_data:/data
#
#  qdrant:
#    image: qdrant/qdrant
#    container_name: gr_qdrant
#    ports:
#      - '6333:6333' # Qdrant REST API port
#    volumes:
#      - qdrant_storage:/qdrant/storage
#
#  # Ollama for running open source models
#  ollama:
#    image: ollama/ollama:latest
#    container_name: gr_ollama
#    ports:
#      - '11434:11434'
#    volumes:
#      - ollama_models:/root/.ollama
#
#volumes:
#  neo4j_data:
#  qdrant_storage:
#  ollama_models:
#  # unstructured_cache:


services:
  qdrant:
    image: qdrant/qdrant:latest
    container_name: qdrant-graphRAG
    ports:
      - "6333:6333"   # REST API + веб‑интерфейс
      - "6334:6334"   # gRPC
    volumes:
      # Монтируем папку qdrant_data (рядом с compose) в /qdrant/storage внутри контейнера
      - ${PWD}/qdrant_data:/qdrant/storage
    restart: unless-stopped

  neo4j:
    image: neo4j:latest
    container_name: neo4j-graphRAG
    ports:
      - "7474:7474"   # Neo4j Browser (веб‑интерфейс)
      - "7687:7687"   # Bolt (для приложений)
    environment:
      # Задаём пароль для пользователя neo4j. ЗАМЕНИТЕ НА СВОЙ!
      - NEO4J_AUTH=neo4j/password
    volumes:
      # Монтируем папку neo4j_data (рядом с compose) в /data внутри контейнера
      - ${PWD}/neo4j_data:/data
    restart: unless-stopped

volumes:
  qdrant_data:
  neo4j_data:

